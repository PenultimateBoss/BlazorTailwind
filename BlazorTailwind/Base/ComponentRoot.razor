@inherits ComponentBase<TComponent>
@typeparam TComponent where TComponent : ComponentBase<TComponent>
@code
{
    [Parameter] public required TComponent This { get; set; }

    protected override void OnParametersSet()
    {
        Args.Base = this;
        Args.This = This;
        Args.Id = This.Id ?? Id;
        Args.ChildContent = This.ChildContent ?? ChildContent;
        Args.Class = (Class is not null && This.Class is not null) ? $"{Class} {This.Class}" : (This.Class ?? Class);
        Args.Style = (Style is not null && This.Style is not null) ? $"{Style}; {This.Style}" : (This.Style ?? Style);
        Args.Attributes = (Attributes is not null && This.Attributes is not null) ? This.Attributes.Concat(Attributes).DistinctBy(pair => pair.Key).ToDictionary() : (This.Attributes ?? Attributes);
    }
}
@code
{
    private ComponentArgs<TComponent> Args { get; } = new();
}

@if(This.RootElement is not null)
{
    @This.RootElement(Args)
}
else if(RootElement is not null)
{
    @RootElement(Args)
}